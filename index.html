
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>Practica2.3 - Configuracion de Proxy Inverso</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="cyan" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#practica-23" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Practica2.3 - Configuracion de Proxy Inverso" class="md-header__button md-logo" aria-label="Practica2.3 - Configuracion de Proxy Inverso" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Practica2.3 - Configuracion de Proxy Inverso
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Practica 2.3
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://yahyalimouni.github.io/practica2/" class="md-tabs__link">
        
  
    
  
  Practica2.1

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://yahyalimouni.github.io/practica2.2/" class="md-tabs__link">
        
  
    
  
  Practica2.2

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://yahyalimouni.github.io/practica2.3/" class="md-tabs__link">
        
  
    
  
  Practica2.3

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Practica2.3 - Configuracion de Proxy Inverso" class="md-nav__button md-logo" aria-label="Practica2.3 - Configuracion de Proxy Inverso" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Practica2.3 - Configuracion de Proxy Inverso
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://yahyalimouni.github.io/practica2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practica2.1
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://yahyalimouni.github.io/practica2.2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practica2.2
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://yahyalimouni.github.io/practica2.3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practica2.3
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    <span class="md-ellipsis">
      Introduccion
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reconfigurar-el-servidor-web" class="md-nav__link">
    <span class="md-ellipsis">
      Reconfigurar el servidor web
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reconfigurar el servidor web">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#primero-cambiamos-el-nombre-del-archivo-de-configuracion-del-servidor-web-a-webserver" class="md-nav__link">
    <span class="md-ellipsis">
      Primero cambiamos el nombre del archivo de configuracion del servidor web a webserver
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cambiamos-el-puerto-en-el-archivo-de-conf-a-8080" class="md-nav__link">
    <span class="md-ellipsis">
      Cambiamos el puerto en el archivo de conf a 8080:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#borramos-el-link-simbolico-antiguo" class="md-nav__link">
    <span class="md-ellipsis">
      Borramos el link simbolico antiguo:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creamos-uno-nuevo" class="md-nav__link">
    <span class="md-ellipsis">
      Creamos uno nuevo:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reiniciamos-nginx-comprobando-el-sintaxis-del-conf-antes" class="md-nav__link">
    <span class="md-ellipsis">
      Reiniciamos nginx comprobando el sintaxis del conf antes:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuramos-el-archivo-de-conf-de-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Configuramos el archivo de conf de Proxy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creammos-un-link-simbolico-a-site-enabled-para-habilitar-la-configuracion" class="md-nav__link">
    <span class="md-ellipsis">
      Creammos un link simbolico a site-enabled para habilitar la configuracion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reiniciamos-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Reiniciamos nginx:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuramos-el-hosts-de-la-maquina-anfitriona-poniendole-la-ip-de-la-maquina-del-proxy-y-el-puerto-80-por-defecto" class="md-nav__link">
    <span class="md-ellipsis">
      Configuramos el hosts de la máquina anfitriona poniendole la ip de la máquina del proxy y el puerto 80 por defecto
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cabezeras" class="md-nav__link">
    <span class="md-ellipsis">
      Cabezeras
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cabezeras">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cabecera-host-en-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Cabecera Host en Proxy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cabezera-host-en-webserver" class="md-nav__link">
    <span class="md-ellipsis">
      Cabezera Host en Webserver
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#y-ahora-ya-se-ven-las-cabezeras-host-de-los-2-servidores-proxy-web" class="md-nav__link">
    <span class="md-ellipsis">
      Y ahora ya se ven las cabezeras Host de los 2 servidores [Proxy, Web]
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="practica-23">Practica 2.3</h1>
<h2 id="introduccion">Introduccion</h2>
<p>En esta practica vamos a configurar un servidor Proxy Inverso, primero clonamos la máquina de Debian donde tenemos, configurado nuestro servidor web de las prácticas anteriores, allí donde se configarará el Proxy que redigirirá cada petición que le llegue, al sevidor web configurado en la máquina original</p>
<h2 id="reconfigurar-el-servidor-web">Reconfigurar el servidor web</h2>
<h3 id="primero-cambiamos-el-nombre-del-archivo-de-configuracion-del-servidor-web-a-webserver">Primero cambiamos el nombre del archivo de configuracion del servidor web a webserver <br></h3>
<p><img alt="01_cambiamos_elnombre_del_conf" src="assets/01_cambiamos_el_nombre_del_conf.png" /></p>
<h3 id="cambiamos-el-puerto-en-el-archivo-de-conf-a-8080">Cambiamos el puerto en el archivo de conf a 8080:</h3>
<p><img alt="02_cambiar_conf_8080.png" src="assets/02_cambiar_conf_8080.png" /></p>
<h3 id="borramos-el-link-simbolico-antiguo">Borramos el link simbolico antiguo:</h3>
<p><img alt="03_borrar_link_simbolico_antiguo.png" src="assets/03_borrar_link_simbolico_antiguo.png" /></p>
<h3 id="creamos-uno-nuevo">Creamos uno nuevo:</h3>
<p><img alt="png" src="assets/04_crear_nuevo_link_simbolico.png" /></p>
<h3 id="reiniciamos-nginx-comprobando-el-sintaxis-del-conf-antes">Reiniciamos nginx comprobando el sintaxis del conf antes:</h3>
<p><img alt="5_Nuevo_link" src="assets/05_verificarsin_restartmginx.png" /> <br></p>
<h3 id="configuramos-el-archivo-de-conf-de-proxy">Configuramos el archivo de conf de Proxy</h3>
<ul>
<li>El puerto: 80</li>
<li>Y ponemos para que dirige la petición a nuestro servidor web <code>webserver</code>
<br></li>
</ul>
<p><img alt="png" src="assets/06_archiv_conf_proxy.png" /></p>
<h3 id="creammos-un-link-simbolico-a-site-enabled-para-habilitar-la-configuracion">Creammos un link simbolico a site-enabled para habilitar la configuracion</h3>
<p><img alt="png" src="assets/07_link_simbolico_proxy.png" /></p>
<h3 id="reiniciamos-nginx">Reiniciamos nginx:</h3>
<p><img alt="png" src="assets/08_restartnginx.png" /></p>
<h3 id="configuramos-el-hosts-de-la-maquina-anfitriona-poniendole-la-ip-de-la-maquina-del-proxy-y-el-puerto-80-por-defecto">Configuramos el <strong>hosts</strong> de la máquina anfitriona poniendole la ip de la máquina del proxy y el puerto 80 por defecto</h3>
<p><img alt="png" src="assets/09_anadir_ip_proxy_hosts.png" /></p>
<h2 id="cabezeras"><strong>Cabezeras</strong></h2>
<ul>
<li>Ahora ya al acceder a nuestro servidor a través del navegador nos salen las cabezeras, y apreciamos que Remote address tiene como ip, la del Proxy, lo que significa que todo funciona como debe de funcionar.</li>
</ul>
<p><img alt="png" src="assets/10_cabezeras.png" /></p>
<h3 id="cabecera-host-en-proxy">Cabecera Host en Proxy</h3>
<ul>
<li>Vamos a ponerle una cabezera hosts a nuestro proxy que será <code>Proxy_inverso_yahya</code></li>
</ul>
<p><img alt="png" src="assets/11_cabezera_proxy.png" /></p>
<h3 id="cabezera-host-en-webserver">Cabezera Host en Webserver</h3>
<ul>
<li>Hacemos lo mismo para el servidor web poniendole <code>webserver</code> </li>
</ul>
<p><img alt="png" src="assets/12_cabezera_server.png" /></p>
<h3 id="y-ahora-ya-se-ven-las-cabezeras-host-de-los-2-servidores-proxy-web">Y ahora ya se ven las cabezeras <code>Host</code> de los 2 servidores [Proxy, Web]</h3>
<p><img alt="png" src="assets/13_cabezeras_chrome.png" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.tabs", "navigation.top", "search.highlight", "search.share", "navigation.tracking"], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>